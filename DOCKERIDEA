# Use the rocker/shiny image as the base
FROM rocker/shiny

# Install necessary R packages
RUN R -e "install.packages(c('devtools', 'shiny'))"

# Install the Shiny app package from GitHub
RUN R -e "devtools::install_github('yourusername/yourshinyapppackage')"

# Expose the default Shiny app port
EXPOSE 3838

# Start the Shiny app
CMD ["R", "-e", "shiny::runApp('yourshinyapppackage')"]


##### option2 private repo

# Use the rocker/shiny image as the base
FROM rocker/shiny

# Install necessary R packages
RUN R -e "install.packages(c('devtools', 'shiny'))"

# Add environment variables for GitHub credentials
ENV GITHUB_PAT=your_personal_access_token

# Install the Shiny app package from GitHub
RUN R -e "devtools::install_github('yourusername/yourshinyapppackage', auth_token = Sys.getenv('GITHUB_PAT'))"

# Expose the default Shiny app port
EXPOSE 3838

# Start the Shiny app
CMD ["R", "-e", "shiny::runApp('yourshinyapppackage')"]

##### you can pass it like this

docker run -p 3838:3838 -e GITHUB_PAT=your_personal_access_token my-shiny-app-package
